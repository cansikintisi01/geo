<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>NEON GEOMETRY DEMO</title>
    <style>
        body { margin: 0; overflow: hidden; background: #000; font-family: 'Segoe UI', sans-serif; user-select: none; }

        #ui-layer { position: absolute; inset: 0; pointer-events: none; z-index: 10; }

        .hud-bottom {
            position: absolute; bottom: 40px; left: 50%; transform: translateX(-50%);
            display: flex; gap: 60px; align-items: flex-end;
            transition: transform 0.1s ease-out;
        }

        .stat-box {
            background: rgba(0, 0, 0, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.15);
            padding: 15px 40px;
            transform: skewX(-15deg);
            backdrop-filter: blur(8px);
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            min-width: 100px;
        }
        
        .label { font-size: 10px; color: #aaa; font-weight: 900; letter-spacing: 4px; display: block; margin-bottom: 2px; }
        .value { font-size: 50px; font-weight: 900; color: #fff; line-height: 0.85; font-style: italic; }
        
        #hp-val { color: #ff0055; text-shadow: 0 0 20px rgba(255, 0, 85, 0.8); }
        #hp-bar-bg { width: 100%; height: 6px; background: #333; margin-top: 8px; transform: skewX(15deg); overflow: hidden; }
        #hp-fill { width: 100%; height: 100%; background: #ff0055; transition: width 0.2s; box-shadow: 0 0 15px #ff0055; }
        
        #weapon-name { color: #ffff00; text-shadow: 0 0 20px rgba(255, 255, 0, 0.8); font-size: 30px; }

        #crosshair {
            position: absolute; top: 50%; left: 50%;
            width: 4px; height: 4px; background: #00ff88;
            transform: translate(-50%, -50%); border-radius: 50%;
            box-shadow: 0 0 10px #00ff88; border: 2px solid rgba(0,0,0,0.3);
            transition: width 0.1s, height 0.1s;
        }

        #hitmarker {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            pointer-events: none; opacity: 0; transition: opacity 0.1s;
        }
        .hm-line {
            position: absolute; width: 20px; height: 4px; background: #fff;
            top: 50%; left: 50%; border-radius: 2px; box-shadow: 0 0 10px #fff;
        }
        .hm-line:nth-child(1) { transform: translate(-50%, -50%) rotate(45deg); }
        .hm-line:nth-child(2) { transform: translate(-50%, -50%) rotate(-45deg); }

        #damage-fx {
            position: absolute; inset: 0; 
            background: radial-gradient(circle, transparent 40%, rgba(255, 0, 50, 0.6) 90%);
            opacity: 0; transition: opacity 0.1s; mix-blend-mode: hard-light; pointer-events: none;
        }
        
        #message {
            position: absolute; top: 25%; width: 100%; text-align: center;
            font-size: 32px; color: #fff; font-weight: 900; opacity: 0; font-style: italic;
            text-shadow: 0 0 20px rgba(255,255,255,0.8); pointer-events: none;
            transition: opacity 0.2s;
        }

        /* NEW: Dash cooldown indicator */
        #dash-indicator {
            position: absolute; bottom: 150px; right: 40px;
            width: 80px; height: 80px;
            background: rgba(0, 0, 0, 0.7);
            border: 3px solid rgba(0, 255, 255, 0.5);
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            flex-direction: column;
            backdrop-filter: blur(8px);
        }
        
        #dash-indicator .dash-label {
            font-size: 10px; color: #0ff; font-weight: 900; letter-spacing: 2px;
        }
        
        #dash-cooldown-ring {
            position: absolute; inset: -3px;
            border-radius: 50%;
            background: conic-gradient(#0ff 0%, transparent 0%);
            transition: background 0.1s linear;
        }
        
        #dash-icon {
            font-size: 32px; color: #0ff; text-shadow: 0 0 10px #0ff; z-index: 1;
        }

        /* NEW: Kill streak indicator */
        #streak-display {
            position: absolute; top: 40px; right: 40px;
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid rgba(255, 0, 85, 0.5);
            padding: 15px 30px;
            transform: skewX(-10deg);
            backdrop-filter: blur(8px);
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        #streak-display.active { opacity: 1; }
        
        #streak-display .streak-label {
            font-size: 10px; color: #ff0055; font-weight: 900; letter-spacing: 3px;
        }
        
        #streak-display .streak-value {
            font-size: 40px; font-weight: 900; color: #ff0055; 
            text-shadow: 0 0 20px #ff0055; font-style: italic;
        }

        #menu {
            position: absolute; inset: 0; background: rgba(0,0,0,0.9);
            backdrop-filter: blur(10px);
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            z-index: 100;
        }
        h1 { font-size: 100px; color: #fff; margin: 0; font-style: italic; letter-spacing: -6px; text-shadow: 5px 5px 0px #ff0055; }
        p { color: #ccc; font-size: 18px; margin-bottom: 40px; letter-spacing: 2px; font-weight: bold; }
        .controls { color: #888; font-size: 14px; margin-bottom: 20px; }
        
        button {
            padding: 20px 80px; font-size: 24px; background: transparent; color: #fff; 
            border: 4px solid #fff; cursor: pointer; font-weight: 900; font-style: italic; 
            text-transform: uppercase; transition: 0.2s;
        }
        button:hover { background: #fff; color: #000; box-shadow: 0 0 50px #fff; transform: scale(1.1); }

        /* NEW: FPS Counter */
        #fps-counter {
            position: absolute; top: 20px; left: 20px;
            font-size: 14px; color: #0f0; font-weight: bold;
            background: rgba(0, 0, 0, 0.5);
            padding: 5px 10px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
    </style>
</head>
<body>

    <div id="menu">
        <h1 id="menu-title">BETA VERSION</h1>
        <p class="controls">WASD: Hareket | SPACE: Zıpla | SHIFT: Dash (Atılma) | 1-2: Silah | FARE: Ateş Et</p>
        <button id="start-btn">BAŞLAT</button>
    </div>

    <div id="ui-layer">
        <div id="damage-fx"></div>
        <div id="message"></div>
        <div id="crosshair"></div>
        <div id="hitmarker">
            <div class="hm-line"></div>
            <div class="hm-line"></div>
        </div>

        <!-- NEW: Kill streak indicator -->
        <div id="streak-display">
            <div class="streak-label">COMBO</div>
            <div class="streak-value" id="streak-value">0</div>
        </div>

        <div class="hud-bottom" id="hud-container">
            <div class="stat-box">
                <span class="label">SAĞLIK</span>
                <div class="value" id="hp-val"></div>
                <div id="hp-bar-bg"><div id="hp-fill"></div></div>
            </div>
            <div class="stat-box">
                <span class="label">SİLAH</span>
                <div class="value" id="weapon-name">RIFLE</div>
            </div>
            <div class="stat-box">
                <span class="label">HIZ</span>
                <div class="value" id="speed-val">0</div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://unpkg.com/three@0.128.0/examples/js/postprocessing/EffectComposer.js"></script>
    <script src="https://unpkg.com/three@0.128.0/examples/js/postprocessing/RenderPass.js"></script>
    <script src="https://unpkg.com/three@0.128.0/examples/js/postprocessing/ShaderPass.js"></script>
    <script src="https://unpkg.com/three@0.128.0/examples/js/shaders/CopyShader.js"></script>
    <script src="https://unpkg.com/three@0.128.0/examples/js/shaders/LuminosityHighPassShader.js"></script>
    <script src="https://unpkg.com/three@0.128.0/examples/js/postprocessing/UnrealBloomPass.js"></script>
    <script src="main.js"></script>

    <script>
        // FPS Counter
        let lastTime = performance.now();
        let frames = 0;
        function updateFPS() {
            frames++;
            const now = performance.now();
            if(now >= lastTime + 1000) {
                document.getElementById('fps-counter').innerText = 'FPS: ' + frames;
                frames = 0;
                lastTime = now;
            }
            requestAnimationFrame(updateFPS);
        }
        updateFPS();

        // Dash cooldown visual update
        setInterval(() => {
            if(typeof player !== 'undefined' && typeof CONFIG !== 'undefined') {
                const now = Date.now();
                const timeSinceDash = now - player.lastDash;
                const cooldownProgress = Math.min(1, timeSinceDash / CONFIG.dashCooldown);
                const ring = document.getElementById('dash-cooldown-ring');
                const icon = document.getElementById('dash-icon');
                
                if(cooldownProgress >= 1) {
                    ring.style.background = 'conic-gradient(#0ff 100%, transparent 0%)';
                    icon.style.opacity = '1';
                    icon.style.transform = 'scale(1)';
                } else {
                    const angle = cooldownProgress * 360;
                    ring.style.background = `conic-gradient(#0ff ${angle}deg, transparent ${angle}deg)`;
                    icon.style.opacity = '0.3';
                    icon.style.transform = 'scale(0.8)';
                }

                // Update kill streak display
                const streakDisplay = document.getElementById('streak-display');
                const streakValue = document.getElementById('streak-value');
                if(player.killStreak >= 3) {
                    streakDisplay.classList.add('active');
                    streakValue.innerText = player.killStreak;
                } else {
                    streakDisplay.classList.remove('active');
                }
            }
        }, 50);
    </script>
</body>
</html>
